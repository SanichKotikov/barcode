{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./packages/ean/src/constants.ts","webpack:///./packages/ean/src/encoder.ts","webpack:///./packages/ean/src/ean13.ts","webpack:///./packages/ean/src/ean8.ts","webpack:///./packages/ean/src/ean5.ts","webpack:///./packages/ean/src/ean2.ts","webpack:///./packages/svg/src/constants.ts","webpack:///./packages/svg/src/helpers.ts","webpack:///./packages/svg/src/index.ts","webpack:///./examples/modules/ean.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","SIDE_BIN","MIDDLE_BIN","BINARIES","L","G","R","O","E","EAN2_STRUCTURE","EAN5_STRUCTURE","EAN13_STRUCTURE","data","structure","separator","encoded","split","map","val","idx","last","length","join","checksum","number","substr","reduce","sum","curr","toString","leftSide","rightSide","valid","search","encode","options","test","RangeError","encodings","leftData","leftStructure","rightData","left","right","getEncodings","flat","text","encodeFlat","readable","unshift","quietZone","push","encodeGuarded","parseInt","SVG_NS","isEmptyData","RegExp","convert","size","result","lastIndex","group","x","y","el","document","createElementNS","setAttribute","fill","append","createTextNode","barToPath","guarded","reduction","height","HEIGHT","X","svg","emptyStart","width","self","gX","encoding","toDPath","eWidth","g","EAN8","id","input","getElementById","ean13","ean8","ean5","ean2"],"mappings":"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","file":"main.844e87a0.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"ccd20f\");\n","export const EMPTY_BIN = '00000000';\nexport const SIDE_BIN = '101';\nexport const MIDDLE_BIN = '01010';\n\nexport const BINARIES = {\n  L: [\n    '0001101', '0011001', '0010011', '0111101', '0100011',\n    '0110001', '0101111', '0111011', '0110111', '0001011',\n  ],\n  G: [\n    '0100111', '0110011', '0011011', '0100001', '0011101',\n    '0111001', '0000101', '0010001', '0001001', '0010111',\n  ],\n  R: [\n    '1110010', '1100110', '1101100', '1000010', '1011100',\n    '1001110', '1010000', '1000100', '1001000', '1110100',\n  ],\n  O: [\n    '0001101', '0011001', '0010011', '0111101', '0100011',\n    '0110001', '0101111', '0111011', '0110111', '0001011',\n  ],\n  E: [\n    '0100111', '0110011', '0011011', '0100001', '0011101',\n    '0111001', '0000101', '0010001', '0001001', '0010111',\n  ]\n};\n\nexport const EAN2_STRUCTURE = ['LL', 'LG', 'GL', 'GG'];\n\nexport const EAN5_STRUCTURE = [\n  'GGLLL', 'GLGLL', 'GLLGL', 'GLLLG', 'LGGLL',\n  'LLGGL', 'LLLGG', 'LGLGL', 'LGLLG', 'LLGLG',\n];\n\nexport const EAN13_STRUCTURE = [\n  'LLLLLL', 'LLGLGG', 'LLGGLG', 'LLGGGL', 'LGLLGG',\n  'LGGLLG', 'LGGGLL', 'LGLGLG', 'LGLGGL', 'LGGLGL',\n];\n","import { BINARIES } from './constants';\n\nfunction encode(data: string, structure: string, separator?: string) {\n  let encoded = data\n    .split('')\n    .map((val, idx) => {\n      const binary: string[] = BINARIES[structure[idx]];\n      return binary[data[idx]] as string;\n    });\n\n  if (separator) {\n    const last = data.length - 1;\n    encoded = encoded.map((val, idx) => (idx < last ? val + separator : val));\n  }\n\n  return encoded.join('');\n}\n\nexport default encode;\n","import { EAN13_STRUCTURE, EMPTY_BIN, SIDE_BIN, MIDDLE_BIN } from './constants';\nimport { IOptions, IEncoding, ISideEncoding } from './types';\nimport encodeEAN from './encoder';\n\ninterface IEAN13Options extends IOptions {\n  flat?: boolean;\n  quietZone?: boolean;\n}\n\nfunction checksum(number: string) {\n  const result = number.substr(0, 12).split('').reduce((sum, curr, idx) => (\n    idx % 2 ? sum + +curr * 3 : sum + +curr\n  ), 0);\n  return ((10 - (result % 10)) % 10).toString();\n}\n\nfunction leftSide(data: string) {\n  return data.substr(1, 6);\n}\n\nfunction rightSide(data: string) {\n  return data.substr(7, 6);\n}\n\nfunction getEncodings(data: string): Readonly<ISideEncoding> {\n  const leftData = leftSide(data);\n  const leftStructure = EAN13_STRUCTURE[data[0]];\n  const rightData = rightSide(data);\n  return {\n    left: encodeEAN(leftData, leftStructure),\n    right: encodeEAN(rightData, 'RRRRRR'),\n  };\n}\n\nfunction valid(data: string) {\n  return (\n    data.search(/^[0-9]{13}$/) !== -1 &&\n    data[12] === checksum(data)\n  );\n}\n\nfunction encode(data: string, options?: IEAN13Options) {\n  if (/^[0-9]{12}$/.test(data)) data += checksum(data);\n  if (!valid(data)) throw new RangeError();\n  const encodings = getEncodings(data);\n\n  return options?.flat\n    ? encodeFlat(data, encodings)\n    : encodeGuarded(data, encodings, options);\n}\n\nfunction encodeGuarded(\n  data: string,\n  encodings: ISideEncoding,\n  options?: IEAN13Options,\n): ReadonlyArray<IEncoding> {\n  const encoded: IEncoding[] = [\n    { data: SIDE_BIN },\n    { data: encodings.left, text: leftSide(data) },\n    { data: MIDDLE_BIN },\n    { data: encodings.right, text: rightSide(data) },\n    { data: SIDE_BIN }\n  ];\n\n  if (options?.readable ?? true) {\n    encoded.unshift({ data: EMPTY_BIN, text: data[0] });\n    if (options?.quietZone) encoded.push({ data: EMPTY_BIN, text: '>' });\n  }\n\n  return encoded;\n}\n\nfunction encodeFlat(data: string, encodings: ISideEncoding): ReadonlyArray<IEncoding> {\n  return [{\n    data: [SIDE_BIN, encodings.left, MIDDLE_BIN, encodings.right, SIDE_BIN].join(''),\n    text: data,\n  }];\n}\n\n\nexport default {\n  encode,\n  valid,\n};\n","import { SIDE_BIN, MIDDLE_BIN } from './constants';\nimport { IOptions, IEncoding, ISideEncoding } from './types';\nimport encodeEAN from './encoder';\n\ninterface IEAN8Options extends IOptions {\n  flat?: boolean;\n}\n\nfunction checksum(number: string) {\n  const result = number.substr(0, 7).split('').reduce((sum, curr, idx) => (\n    idx % 2 ? sum + +curr : sum + +curr * 3\n  ), 0);\n  return ((10 - (result % 10)) % 10).toString();\n}\n\nfunction leftSide(data: string) {\n  return data.substr(0, 4);\n}\n\nfunction rightSide(data: string) {\n  return data.substr(4, 4);\n}\n\nfunction getEncodings(data: string): ISideEncoding {\n  const leftData = leftSide(data);\n  const rightData = rightSide(data);\n  return {\n    left: encodeEAN(leftData, 'LLLL'),\n    right: encodeEAN(rightData, 'RRRR'),\n  }\n}\n\nfunction valid(data: string) {\n  return (\n    data.search(/^[0-9]{8}$/) !== -1 &&\n    data[7] === checksum(data)\n  );\n}\n\nfunction encode(data: string, options?: IEAN8Options) {\n  if (/^[0-9]{7}$/.test(data)) data += checksum(data);\n  if (!valid(data)) throw new RangeError();\n  const encodings = getEncodings(data);\n\n  return options?.flat\n    ? encodeFlat(data, encodings)\n    : encodeGuarded(data, encodings);\n}\n\nfunction encodeGuarded(data: string, encodings: ISideEncoding): IEncoding[] {\n  return [\n    { data: SIDE_BIN },\n    { data: encodings.left, text: leftSide(data) },\n    { data: MIDDLE_BIN },\n    { data: encodings.right, text: rightSide(data) },\n    { data: SIDE_BIN }\n  ];\n}\n\nfunction encodeFlat(data: string, encodings: ISideEncoding): IEncoding[] {\n  return [{\n    data: [SIDE_BIN, encodings.left, MIDDLE_BIN, encodings.right, SIDE_BIN].join(''),\n    text: data,\n  }];\n}\n\nexport default {\n  encode,\n  valid,\n};\n","import { EAN5_STRUCTURE } from './constants';\nimport { IEncoding } from './types';\nimport encodeEAN from './encoder';\n\nfunction checksum(data: string) {\n  const result = data.split('').reduce((sum, curr, idx) => (\n    idx % 2 ? sum + +curr * 9 : sum + +curr * 3\n  ), 0);\n  return result % 10;\n}\n\nfunction valid(data: string) {\n  return data.search(/^[0-9]{5}$/) !== -1;\n}\n\nfunction encode(data: string): IEncoding[] {\n  if (!valid(data)) throw new RangeError();\n  const structure = EAN5_STRUCTURE[checksum(data)];\n  return [{\n    data: '1011' + encodeEAN(data, structure, '01'),\n    text: data,\n  }];\n}\n\nexport default {\n  encode,\n  valid,\n};\n","import { EAN2_STRUCTURE } from './constants';\nimport { IEncoding } from './types';\nimport encodeEAN from './encoder';\n\nfunction valid(data: string) {\n  return data.search(/^[0-9]{2}$/) !== -1;\n}\n\nfunction encode(data: string): IEncoding[] {\n  if (!valid(data)) throw new RangeError();\n  const structure = EAN2_STRUCTURE[parseInt(data) % 4];\n  return [{\n    data: '1011' + encodeEAN(data, structure, '01'),\n    text: data,\n  }];\n}\n\nexport default {\n  encode,\n  valid,\n};\n","export const SVG_NS = 'http://www.w3.org/2000/svg';\n\nexport const WIDTH = 2;\nexport const HEIGHT = 140;\nexport const MARGIN_X = 16;\nexport const MARGIN_Y = 4;\n\nexport const FONT = 'Monospace';\nexport const TEXT_SIZE = 20;\n","import { SVG_NS, WIDTH, HEIGHT, FONT, TEXT_SIZE } from './constants';\nimport { IBarItem, ISvgRenderOptions } from './types';\n\nexport function isEmptyData(data: string) {\n  return new RegExp('^0+$').test(data);\n}\n\nexport function convert(data: string): ReadonlyArray<IBarItem> {\n  let size = 0;\n  const result: IBarItem[] = [];\n  const lastIndex = data.length - 1;\n\n  for (let i = 0; i < data.length; i++) {\n    if (data[i] === '1') {\n      size++;\n      if (i !== lastIndex) continue;\n    }\n\n    if (size > 0) {\n      const idx = i - ((i === lastIndex && data[i] === '1') ? size - 1 : size);\n      result.push({ idx, size });\n      size = 0;\n    }\n  }\n\n  return result;\n}\n\nexport function group(x: number, y: number, options?: Readonly<ISvgRenderOptions>) {\n  const el = document.createElementNS(SVG_NS, 'g');\n  el.setAttribute('transform', `translate(${x}, ${y})`);\n  if (options?.fill) el.setAttribute('fill', options.fill);\n  return el;\n}\n\nexport function text(x: number, y: number, text: string) {\n  const el = document.createElementNS(SVG_NS, 'text');\n  el.setAttribute('x', x.toString());\n  el.setAttribute('y', (y - 2).toString());\n  el.setAttribute('text-anchor', 'middle');\n  el.setAttribute('style', `font: ${TEXT_SIZE}px ${FONT}`);\n  el.append(document.createTextNode(text));\n  return el;\n}\n\nexport function barToPath(guarded: boolean, reduce?: number) {\n  const reduction = WIDTH * (reduce ?? 0);\n  const height = guarded ? HEIGHT + (TEXT_SIZE / 2) : HEIGHT;\n\n  return ({ idx, size }: IBarItem) => {\n    const X = idx * WIDTH;\n    return `M${X} 0h${(size * WIDTH) - reduction}v${height}H${X}z`;\n  }\n}\n","import { SVG_NS, WIDTH, HEIGHT, MARGIN_X, MARGIN_Y, TEXT_SIZE } from './constants';\nimport { isEmptyData, convert, group, text, barToPath } from './helpers';\nimport { IEncoding, ISvgRenderOptions } from './types';\n\nfunction render(\n  svg: HTMLElement,\n  encodings: ReadonlyArray<IEncoding>,\n  options?: Readonly<ISvgRenderOptions>,\n) {\n  const readable = options?.readable ?? true;\n  const emptyStart = isEmptyData(encodings[0].data);\n\n  const width = encodings.reduce((sum, val, idx, self) => {\n    return (\n      sum + ((idx === 0 || idx === self.length - 1) &&\n      isEmptyData(val.data) ? 0 : val.data.length)\n    );\n  }, 0) * WIDTH;\n\n  const height = HEIGHT + (readable ? TEXT_SIZE : 0);\n\n  svg.setAttribute('width', (width + (MARGIN_X * 2)) + 'px');\n  svg.setAttribute('height', (height + (MARGIN_Y * 2)) + 'px');\n\n  let gX = emptyStart ? 0 : MARGIN_X;\n\n  for (let i = 0; i < encodings.length; i++) {\n    const encoding = encodings[i];\n    const toDPath = barToPath(readable && !encoding.text, options?.reduce);\n    const eWidth = encoding.data.length * WIDTH;\n\n    const g = group(gX, MARGIN_Y, options);\n    const el = document.createElementNS(SVG_NS, 'path');\n    el.setAttribute('d', convert(encoding.data).map(toDPath).join(''));\n    g.append(el);\n\n    if (readable) {\n      if (encoding.text) g.append(text(eWidth / 2, height, encoding.text));\n    }\n\n    svg.append(g);\n    gX += eWidth;\n  }\n}\n\nexport default render;\n","import { ean13, ean8, ean5, ean2 } from '../../packages/ean/src';\nimport { IEncoding } from '../../packages/svg/src/types';\nimport renderSvg from '../../packages/svg/src';\n\ninterface IModule {\n  valid: (input: string) => boolean;\n  encode: (input: string, options?: any) => ReadonlyArray<IEncoding>;\n}\n\nconst REDUCE = 0.28651;\n\nconst EAN13 = '9234567890120';\nconst EAN8 = '12345670';\n\nfunction render(\n  id: string,\n  input: string,\n  module: IModule,\n  options?: any,\n) {\n  const svg = document.getElementById(id);\n  if (!svg || !module.valid(input)) return;\n  const encodings = module.encode(input, options);\n  renderSvg(svg, encodings, { reduce: REDUCE });\n}\n\nrender('ean-13', EAN13, ean13, { quietZone: true });\nrender('ean-13-flat', EAN13, ean13, { flat: true });\n\nrender('ean-8', EAN8, ean8);\nrender('ean-8-flat', EAN8, ean8, { flat: true });\n\nrender('ean-5', EAN8.substr(0, 5), ean5);\nrender('ean-2', EAN8.substr(0, 2), ean2);\n"],"sourceRoot":""}